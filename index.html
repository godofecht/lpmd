<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Literate Python Markdown (LPMD)</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: var(--light-color);
        }
        
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 1.5rem;
        }
        
        nav a {
            text-decoration: none;
            color: white;
            font-weight: 500;
            transition: opacity 0.3s;
        }
        
        nav a:hover {
            opacity: 0.8;
        }
        
        section {
            padding: 2rem 0;
        }
        
        .intro {
            padding: 2rem 0;
        }
        
        .intro h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .intro p {
            margin-bottom: 1rem;
            max-width: 800px;
        }
        
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        
        .code-comment { color: #7f8c8d; }
        .code-keyword { color: #3498db; }
        .code-string { color: #2ecc71; }
        .code-function { color: #9b59b6; }
        
        .runner-section {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .runner-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .input-area, .output-area {
            width: 100%;
        }
        
        textarea {
            width: 100%;
            height: 200px;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            resize: vertical;
        }
        
        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .syntax-section {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }
        
        .syntax-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .syntax-card {
            background-color: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .syntax-card h3 {
            margin-top: 0;
            color: var(--primary-color);
        }
        
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                margin-top: 0.5rem;
            }
            
            nav li {
                margin: 0 0.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">LPMD</div>
                <ul>
                    <li><a href="#syntax">Syntax</a></li>
                    <li><a href="#runner">Runner</a></li>
                    <li><a href="https://github.com/godofecht/lpmd">GitHub</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <section class="intro">
        <div class="container">
            <h1>Literate Python Markdown (LPMD)</h1>
            <p>LPMD is a technology that allows executable Python code in markdown files. Unlike traditional literate programming that only displays code, LPMD actually runs your markdown documents as executable programs.</p>
            <p>LPMD uses special cell markers to define executable code blocks with dependency management.</p>
        </div>
    </section>
    
    <section id="syntax" class="syntax-section">
        <div class="container">
            <h2>LPMD Syntax</h2>
            <p>LPMD uses HTML comments as cell markers to keep the markdown readable while enabling execution:</p>
            
            <div class="syntax-grid">
                <div class="syntax-card">
                    <h3>Basic Cell</h3>
                    <div class="code-block">
                        &lt;!-- cell:cell_id --&gt;<br>
                        ```python<br>
                        print("Hello from LPMD!")<br>
                        x = 10<br>
                        ```<br>
                    </div>
                </div>
                
                <div class="syntax-card">
                    <h3>Cell with Dependencies</h3>
                    <div class="code-block">
                        &lt;!-- cell:compute depends:setup --&gt;<br>
                        ```python<br>
                        result = x * 2<br>
                        print(f"Result: {result}")<br>
                        ```<br>
                    </div>
                </div>
                
                <div class="syntax-card">
                    <h3>Cell with Persistence</h3>
                    <div class="code-block">
                        &lt;!-- cell:process depends:load persist:data --&gt;<br>
                        ```python<br>
                        processed_data = transform(data)<br>
                        ```<br>
                    </div>
                </div>
            </div>
            
            <p><strong>Parameters:</strong></p>
            <ul>
                <li><code>cell_id</code>: Unique identifier for the cell</li>
                <li><code>depends</code>: Comma-separated list of cells this cell depends on</li>
                <li><code>persist</code>: Variables to explicitly persist (optional)</li>
            </ul>
        </div>
    </section>
    
    <section id="runner" class="runner-section">
        <div class="container">
            <h2>LPMD Runner</h2>
            <p>Try executing LPMD code directly in your browser. Enter your LPMD code below and click Run:</p>
            
            <div class="runner-container">
                <div class="input-area">
                    <label for="lpmd-input"><strong>Your LPMD Code:</strong></label>
                    <textarea id="lpmd-input" placeholder="Enter your LPMD code here..."><!-- cell:setup -->
```python
print("Hello from LPMD!")
x = 10
y = 20
```

<!-- cell:compute depends:setup -->
```python
result = x + y
print(f"Sum: {result}")
```

<!-- cell:display depends:compute -->
```python
print(f"The final result is: {result}")
```</textarea>
                </div>
                
                <button onclick="runLPMD()">Run Code</button>
                
                <div class="output-area">
                    <label for="lpmd-output"><strong>Output:</strong></label>
                    <textarea id="lpmd-output" readonly placeholder="Output will appear here..."></textarea>
                </div>
            </div>
        </div>
    </section>
    
    <section class="syntax-section">
        <div class="container">
            <h2>How to Use LPMD</h2>
            
            <div class="syntax-grid">
                <div class="syntax-card">
                    <h3>Installation</h3>
                    <div class="code-block">
                        pip install lpmd
                    </div>
                </div>
                
                <div class="syntax-card">
                    <h3>Execute File</h3>
                    <div class="code-block">
                        lpmd-execute myfile.lpmd
                    </div>
                </div>
                
                <div class="syntax-card">
                    <h3>Generate HTML</h3>
                    <div class="code-block">
                        lpmd-generate-html myfile.lpmd
                    </div>
                </div>
            </div>
            
            <h3 style="margin-top: 1.5rem;">Execution Process</h3>
            <ol>
                <li>LPMD parses the file to identify cells and their dependencies</li>
                <li>It resolves execution order using topological sorting</li>
                <li>Cells are executed in dependency order</li>
                <li>Variables are shared between dependent cells</li>
                <li>Output is displayed as the code executes</li>
            </ol>
        </div>
    </section>
    
    <footer>
        <div class="container">
            <p>Literate Python Markdown (LPMD) | Licensed under MIT</p>
            <p><a href="https://github.com/godofecht/lpmd" style="color: white; text-decoration: underline;">View on GitHub</a></p>
        </div>
    </footer>
    
    <script>
        function runLPMD() {
            const input = document.getElementById('lpmd-input').value;
            const output = document.getElementById('lpmd-output');
            
            // This is a simulation since actual Python execution isn't possible in browser
            // In a real implementation, this would connect to a backend service
            output.value = "Note: This is a frontend simulation.\n\n";
            output.value += "In a real environment, this would:\n";
            output.value += "1. Parse the LPMD syntax\n";
            output.value += "2. Identify cells and dependencies\n";
            output.value += "3. Execute cells in dependency order\n";
            output.value += "4. Return the output of each cell\n\n";
            
            // Simulate the expected output based on the default example
            if (input.includes("Hello from LPMD!")) {
                output.value += "Actual expected output would be:\n";
                output.value += "Hello from LPMD!\n";
                output.value += "Sum: 30\n";
                output.value += "The final result is: 30\n";
            } else {
                output.value += "Enter LPMD code to see simulated execution.";
            }
        }
    </script>
</body>
</html>